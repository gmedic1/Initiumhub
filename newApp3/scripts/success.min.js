function getParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}function isValidEmail(e){return e.match(/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/)?(console.log("true"),!0):(console.log("false"),!1)}function getDetails(){$(".grid-item").hide(),$("#card").flip(!1),$("#progress").attr("hidden",!1),$("#progressbar").attr("hidden",!1);var e=getParameterByName("Email");null!=e&&isValidEmail(e)?(setTimeout(function(){$("#progressbar").removeClass("progress-bar-green"),$("#progressbar").css("width","30%"),$("#progressbar").text("30%..finished gathering email")},400),setTimeout(function(){$("#progressbar").css("width","40%"),$("#progressbar").text("40%. Building AJAX request")},900),setTimeout(function(){$("#progressbar").css("width","50%"),$("#progressbar").text("50%..SENDING AJAX Request"),sendRequest(e)},1300)):(setTimeout(function(){$("#progressbar").css("width","30%"),$("#progressbar").text("30%.. gathering email..")},400),setTimeout(function(){$("#progressbar").css("width","34%"),$("#progressbar").text("34%..still working on getting email")},800),setTimeout(function(){$("#progressbar").css("width","35%"),$("#progressbar").text("35%..unable to fetch email")},1200),setTimeout(function(){$("#progressbar").css("width","100%"),$("#progressbar").text("Sorry an unexpected error has occurred"),$("#progressbar").addClass("progress-bar-danger")},1600),setTimeout(function(){$("#pLead").text("Your email is: "+e+"."),$("#pTrail").text("Unable to find records with "+e),$("#card").flip(!0)},1900))}function sendRequest(e){$.ajax({type:"POST",url:"Success.aspx/findUser",contentType:"application/json; charset=utf-8",dataType:"json",type:"POST",data:"{email: '"+e+"'}",success:function(t){setTimeout(function(){$("#progressbar").css("width","60%"),$("#progressbar").text("60%..Reading data"),readDetails(t),$(".grid-item-label").fadeIn(1e3)},1800),setTimeout(function(){$("#progressbar").css("width","90%"),$("#progressbar").text("90%..Building Grid")},2400),setTimeout(function(){$("#progressbar").css("width","95%"),$("#progressbar").text("95%..Populating the Grid")},3400),setTimeout(function(){$("#progressbar").css("width","98%"),$("#progressbar").text("98%..Completed")},4e3),setTimeout(function(){$("#firstName").fadeIn(2e3)},4800),setTimeout(function(){$("#lastName").fadeIn(2e3)},6800),setTimeout(function(){$("#Email").fadeIn(2e3)},8800),setTimeout(function(){$("#Pnumber").fadeIn(2e3)},9800),setTimeout(function(){$("#zipcode").fadeIn(2e3)},10800),setTimeout(function(){$("#progressbar").css("width","100%"),$("#progressbar").addClass("progress-bar-green"),$("#progressbar").text("100%..Complete"),$("#state").fadeIn(1e3)},12800),setTimeout(function(){$("#pLead").text("Congratulations! "+t.d.FirstName),$("#pTrail").text("Your email address is "+e),$("#card").flip("toggle"),$("#card").flip(!0)},12900)},error:function(e){alert(e)}})}function readDetails(e){var t=e.d,r=t.FirstName,s=t.LastName,i=t.Email,a=t.Pnumber,n=t.zipcode,o=t.State;document.getElementById("firstName").innerHTML=r,document.getElementById("lastName").innerText=s,document.getElementById("Email").innerText=i,document.getElementById("Pnumber").innerText=a,document.getElementById("zipcode").innerText=n,document.getElementById("state").innerText=o}$(document).ready(function(){$(".grid-item").hide()}),$("#card").flip({trigger:"manual"});